---
import { SEO } from "astro-seo";
import { getCollection } from "astro:content";
import { Image } from "astro:assets";
import HeroImage from "@assets/albums-page-hero.webp";
import Layout from "@layouts/Layout.astro";
import Hero from "@components/ui/Hero.astro";

const albums = await getCollection("albums");
---

<Layout title="Photo Albums ðŸ“¸">
  <SEO
    slot="seo"
    description="A collection of photo albums showcasing my questionable life choices (Danyal Lakzian)"
    openGraph={{
      basic: {
        title: "Photo Albums ðŸ“¸",
        type: "website",
        image: HeroImage.src,
        url: "https://lakzian.com/albums",
      },
    }}
  />

  <Hero
    image={HeroImage}
    heading="My Photo Albums ðŸ“¸"
    subHeading="A visual representation of my questionable life choices"
  />

  <section>
    <div class="max-w-4xl w-full mx-auto px-4 my-5">
      <div class="grid md:grid-cols-2 gap-4 min-h-52">
        {
          albums.map((album) => (
            <a
              href={`/albums/${album.id}`}
              class="card border-neutral border hover:shadow-lg rounded-xl cursor-pointer transition-all overflow-hidden"
            >
              <div class="card-body relative p-0 grid">
                <figure class="col-span-full row-span-full p-0">
                  <Image
                    src={album.data.cover}
                    alt={album.data.title}
                    class="object-cover object-center !m-0 aspect-video block bg-base-300 w-full"
                    width={400}
                    quality={40}
                    loading="lazy"
                  />
                </figure>
                <div class="col-span-full row-span-full flex flex-col justify-end bg-gradient-to-b from-transparent from-40% to-zinc-900 to-90% text-white transition-all p-4 hover:to-100% hover:from-10% hover:pb-10 hover:backdrop-blur-sm">
                  <h2 class="font-medium text-lg">{album.data.title}</h2>
                  <span class="font-body font-thin text-sm">
                    {album.data.description}
                  </span>
                </div>
              </div>
            </a>
          ))
        }
      </div>
    </div>
  </section>
</Layout>
